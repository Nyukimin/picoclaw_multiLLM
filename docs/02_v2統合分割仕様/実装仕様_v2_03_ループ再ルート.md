# 実装仕様 v2 - 03 ループ制御と再ルート仕様

## 停止条件
- `max_loops` 到達
- `max_millis` 到達
- worker失敗
- ユーザー確認が必要

## ユーザー確認停止
- 停止理由は `need_user_confirmation` に統一
- 発火条件: `risk=high` / 低confidence重大分岐 / 情報不足

## 再ルート
- 条件A: `fit=false` かつ `suggested_route` 有効
- 条件B: 会話LLM提案IFが有効
- 上限: 同一入力につき1回

## 参照
- 正本: `docs/02_v2統合分割仕様/実装仕様_v2_統合版.md`（3章）
